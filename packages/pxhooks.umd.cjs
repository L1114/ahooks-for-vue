(function(t,s){typeof exports=="object"&&typeof module<"u"?s(exports,require("vue-demi")):typeof define=="function"&&define.amd?define(["exports","vue-demi"],s):(t=typeof globalThis<"u"?globalThis:t||self,s(t.pxhooks={},t.vueDemi))})(this,function(t,s){"use strict";const x=(y,{dataFilter:v=f=>f,defaultParams:b={},manual:g=!0,onBefore:d,onSuccess:l,onError:o,onFinally:r,throttleWait:i=0,throttleTrailing:j=!1})=>{const f=s.ref(v(null)),a=s.ref(!1),T=s.ref(null);let m=0,w=null;const p=n=>new Promise((q,h)=>{const c=e=>{h(e),o==null||o(e)};d==null||d(),a.value=!0,m=Date.now(),(async()=>{try{const e=await y(n||b).catch(P=>{c(P)}),u=v(e.data);f.value=u,q(u),l==null||l(u)}catch(e){T.value=e,c(e)}finally{a.value=!1,r==null||r()}})()}),D=n=>!i||i<=0?p(n):Date.now()-m<i?new Promise((h,c)=>{const e=()=>{clearTimeout(w);const u=Date.now()-m;w=setTimeout(()=>{u>i?p(n).then(h).catch(c):e()},i-u)};j&&e()}):p(n);return!g&&D(),{data:f,loading:a,error:T,runAsync:D}};t.useRequest=x,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
