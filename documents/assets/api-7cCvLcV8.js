import{g as p,h as k}from"./app-oqrRuz-r.js";const b=(u,{dataFilter:i=a=>a,defaultParams:M={},manual:D,onBefore:o,onSuccess:m,onError:r,onFinally:f,throttleWait:s=0,throttleTrailing:P=!1}={})=>{const a=p(i(null)),l=p([]),T=p(null);let d=0,x=null;const h=t=>{const v=Math.random();return new Promise((w,g)=>{const n=e=>{g(e),r==null||r(e)};o==null||o(),l.value.push(v),d=Date.now(),(async()=>{try{const e=await u(t||M).catch(j=>{n(j)}),c=i(e);a.value=c,w(c),m==null||m(c)}catch(e){T.value=e,n(e)}finally{let e=l.value.findIndex(c=>c===v);e>=0&&l.value.splice(e,1),f==null||f()}})()})},I=t=>!s||s<=0?h(t):Date.now()-d<s?new Promise((w,g)=>{const n=()=>{clearTimeout(x);const e=Date.now()-d;x=setTimeout(()=>{e>s?h(t).then(w).catch(g):n()},s-e)};P&&n()}):h(t);return console.log("manual",D),!D&&I(),{data:a,loading:k(()=>{var t;return((t=l.value)==null?void 0:t.length)>0}),error:T,runAsync:I}},y=()=>(console.log("test"),"test"),z=async()=>new Promise((u,i)=>{setTimeout(()=>{u(Math.random())},2e3)});export{z as m,y as t,b as u};
